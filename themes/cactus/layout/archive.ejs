<div id="archive">
  <div class="archive-tags">
    <span class="archive-tag"><i class="fa fa-tag"></i> <a href="<%- url_for("/tags/personal-diary/") %>">个人日记</a></span>
    <span class="archive-tag"><i class="fa fa-tag"></i> <a href="<%- url_for("/tags/developer-manual/") %>">开发者手册</a></span>
    <span class="archive-tag"><i class="fa fa-tag"></i> <a href="<%- url_for("/tags/guitar/") %>">吉他</a></span>
    <span class="archive-tag"><i class="fa fa-tag"></i> <a href="<%- url_for("/tags/opinions-and-feelings/") %>">观点与感想</a></span>
    <span class="archive-tag"><i class="fa fa-tag"></i> <a href="<%- url_for("/tags/life-essay/") %>">生活随笔</a></span>
  </div>

  <ul class="post-list">
    <% var year = 0 %>
    <% var change = false %>
    <% page.posts.sort('date', 'desc').each(function(post) { %>
      <% var itemYear = date(post.date, 'YYYY') - 0 %>
      <% change = year !== itemYear %>
      <% year = change ? itemYear : year %>
      <% if (change) { %>
        <h2><%= year %></h2>
      <% } %>
      <li class="post-item">
        <%- partial('_partial/post/date', { post: post, class_name: 'meta' }) %>
        <span><%- partial('_partial/post/title', { post: post, index: true, class_name: '' }) %></span>
      </li>
    <% }); %>
  </ul>
  <%- partial('_partial/pagination') %>
</div>
